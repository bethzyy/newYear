<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ´ é©¬å¹´æ–°å¹´çº¢åŒ…</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'SimHei', Arial, sans-serif;
            background: linear-gradient(135deg, #8B0000 0%, #C8161D 100%);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }

        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        /* çº¢åŒ…ä¸»ä½“ */
        .red-packet {
            width: 280px;
            height: 380px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
            z-index: 10;
            -webkit-tap-highlight-color: transparent;
        }

        .red-packet:active {
            transform: scale(0.95);
        }

        .red-packet.active {
            animation: pulse 0.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        /* çº¢åŒ…ä¸ŠåŠéƒ¨åˆ† */
        .packet-top {
            width: 100%;
            height: 250px;
            background: linear-gradient(180deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            border-radius: 20px 20px 100px 100px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 3px solid #FFD700;
        }

        .packet-top::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 2px solid #8B4513;
            border-radius: 15px 15px 95px 95px;
            background: linear-gradient(180deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 165, 0, 0.3) 100%);
        }

        /* çº¢åŒ…æ–‡å­— */
        .main-text {
            font-size: 42px;
            font-weight: bold;
            color: #8B0000;
            text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.5);
            margin-bottom: 10px;
            letter-spacing: 4px;
            z-index: 2;
            font-family: "KaiTi", "STKaiti", serif;
        }

        .sub-text {
            font-size: 20px;
            color: #8B0000;
            z-index: 2;
            letter-spacing: 2px;
            font-family: "KaiTi", "STKaiti", serif;
        }

        /* çº¢åŒ…ä¸‹åŠéƒ¨åˆ† */
        .packet-bottom {
            width: 100%;
            height: 130px;
            background: linear-gradient(180deg, #C8161D 0%, #8B0000 100%);
            border-radius: 15px 15px 20px 20px;
            position: absolute;
            bottom: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 3px solid #FFD700;
            overflow: hidden;
        }

        /* é©¬çš„å›¾æ¡ˆ */
        .horse-icon {
            font-size: 80px;
            animation: horseShake 2s ease-in-out infinite;
        }

        @keyframes horseShake {
            0%, 100% {
                transform: rotate(-5deg);
            }
            50% {
                transform: rotate(5deg);
            }
        }

        /* åŠ¨ç”»å®¹å™¨ */
        .animation-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        /* æµ®åŠ¨å…ƒç´  */
        .floating-item {
            position: absolute;
            animation: floatUp 3s ease-out forwards;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(255, 215, 0, 0.8);
            white-space: nowrap;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg) scale(0.5);
            }
            50% {
                opacity: 1;
                transform: translateY(-50vh) rotate(180deg) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100vh) rotate(360deg) scale(1.2);
            }
        }

        .floating-image {
            width: 60px;
            height: 60px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }

        .floating-text {
            font-size: 24px;
        }

        /* æç¤ºæ–‡å­— */
        .tip {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #FFD700;
            font-size: 14px;
            text-align: center;
            z-index: 1;
            opacity: 0.8;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 375px) {
            .red-packet {
                width: 240px;
                height: 320px;
            }

            .packet-top {
                height: 200px;
            }

            .main-text {
                font-size: 36px;
            }

            .sub-text {
                font-size: 18px;
            }

            .packet-bottom {
                height: 120px;
            }

            .horse-icon {
                font-size: 70px;
            }
        }

        @media (min-width: 768px) {
            .red-packet {
                width: 350px;
                height: 450px;
            }

            .packet-top {
                height: 300px;
                border-radius: 25px 25px 130px 130px;
            }

            .main-text {
                font-size: 52px;
            }

            .sub-text {
                font-size: 24px;
            }

            .packet-bottom {
                height: 150px;
            }

            .horse-icon {
                font-size: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ä¸»çº¢åŒ…æŒ‰é’® -->
        <div class="red-packet" id="redPacket">
            <div class="packet-top">
                <div class="main-text">é©¬å¹´çº¢åŒ…</div>
                <div class="sub-text">ç‚¹å‡»å¼€å¯</div>
            </div>
            <div class="packet-bottom">
                <div class="horse-icon">ğŸ´</div>
            </div>
        </div>

        <!-- åŠ¨ç”»å®¹å™¨ -->
        <div class="animation-container" id="animationContainer"></div>

        <!-- æç¤ºæ–‡å­— -->
        <div class="tip">å†æ¬¡ç‚¹å‡»çº¢åŒ…å³å¯åœæ­¢åŠ¨ç”»</div>
    </div>

    <script>
        // é©¬å­—æˆè¯­åˆ—è¡¨
        const horseIdioms = [
            'é©¬åˆ°æˆåŠŸ', 'ä¸€é©¬å½“å…ˆ', 'é¾™é©¬ç²¾ç¥', 'é©¬å¹´å¤§å‰',
            'ä¸‡é©¬å¥”è…¾', 'é©¬ä¸åœè¹„', 'åƒé‡Œé©¬', 'å¿«é©¬åŠ é­',
            'é©¬åˆ°åŠŸæˆ', 'é‡‘æˆˆé“é©¬', 'è½¦æ°´é©¬é¾™', 'é©¬é¦–æ˜¯ç»',
            'æ‹›è´¢è¿›å®', 'æ­å–œå‘è´¢', 'å¤§å‰å¤§åˆ©', 'äº”ç¦ä¸´é—¨',
            'å¹´å¹´æœ‰ä½™', 'è´¢æºå¹¿è¿›', 'å¿ƒæƒ³äº‹æˆ', 'ä¸‡äº‹å¦‚æ„'
        ];

        // å‰ç¥¥å›¾ç‰‡(ä½¿ç”¨emoji)
        const auspiciousImages = [
            'ğŸ®', // ç¯ç¬¼
            'ğŸ’°', // é‡‘å¸
            'ğŸª·', // å…ƒå®
            'ğŸ§¨', // é­ç‚®
            'ğŸ‘', // å¯¿æ¡ƒ
            'ğŸŸ', // é±¼
            'ğŸŠ', // å½©å¸¦
            'ğŸ‰', // åº†ç¥
            'ğŸ§§', // çº¢åŒ…
            'â­'  // æ˜Ÿæ˜Ÿ
        ];

        // é¢œè‰²åˆ—è¡¨
        const colors = [
            '#FFD700', '#FFA500', '#FF6347', '#FF4500',
            '#DC143C', '#B22222', '#FF1493', '#FF69B4'
        ];

        let isAnimating = false;
        let animationTimer = null;

        const redPacket = document.getElementById('redPacket');
        const animationContainer = document.getElementById('animationContainer');

        // åˆ‡æ¢åŠ¨ç”»çŠ¶æ€
        redPacket.addEventListener('click', function() {
            if (isAnimating) {
                stopAnimation();
            } else {
                startAnimation();
            }
        });

        // è§¦æ‘¸æ”¯æŒ
        redPacket.addEventListener('touchstart', function(e) {
            e.preventDefault();
            if (isAnimating) {
                stopAnimation();
            } else {
                startAnimation();
            }
        });

        // å¼€å§‹åŠ¨ç”»
        function startAnimation() {
            isAnimating = true;
            redPacket.classList.add('active');

            // æ¯éš”300msç”Ÿæˆä¸€ä¸ªæ–°çš„åŠ¨ç”»å…ƒç´ 
            animationTimer = setInterval(createAnimationItem, 300);
        }

        // åœæ­¢åŠ¨ç”»
        function stopAnimation() {
            isAnimating = false;
            redPacket.classList.remove('active');

            if (animationTimer) {
                clearInterval(animationTimer);
                animationTimer = null;
            }

            // æ¸…ç©ºåŠ¨ç”»å®¹å™¨
            animationContainer.innerHTML = '';
        }

        // åˆ›å»ºåŠ¨ç”»å…ƒç´ 
        function createAnimationItem() {
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;

            // éšæœºé€‰æ‹©ç±»å‹(å›¾ç‰‡æˆ–æ–‡å­—)
            const type = Math.random() > 0.4 ? 'text' : 'image';
            let element;

            if (type === 'text') {
                // éšæœºé€‰æ‹©æˆè¯­
                const randomIndex = Math.floor(Math.random() * horseIdioms.length);
                const text = horseIdioms[randomIndex];

                element = document.createElement('div');
                element.className = 'floating-item floating-text';
                element.textContent = text;

                // éšæœºé¢œè‰²
                const colorIndex = Math.floor(Math.random() * colors.length);
                element.style.color = colors[colorIndex];

                // éšæœºå­—ä½“å¤§å°
                const fontSize = Math.floor(Math.random() * 12) + 20; // 20-32px
                element.style.fontSize = fontSize + 'px';
            } else {
                // éšæœºé€‰æ‹©å›¾ç‰‡
                const randomIndex = Math.floor(Math.random() * auspiciousImages.length);
                const image = auspiciousImages[randomIndex];

                element = document.createElement('div');
                element.className = 'floating-item';
                element.textContent = image;
                element.style.fontSize = '50px';
            }

            // éšæœºä½ç½®(ä»åº•éƒ¨éšæœºä½ç½®å‡ºç°)
            const x = Math.random() * (screenWidth - 80);
            const y = screenHeight - 200;

            element.style.left = x + 'px';
            element.style.top = y + 'px';

            // éšæœºåŠ¨ç”»æ—¶é•¿
            const duration = Math.random() * 2 + 2; // 2-4ç§’
            element.style.animationDuration = duration + 's';

            // æ·»åŠ åˆ°å®¹å™¨
            animationContainer.appendChild(element);

            // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
            setTimeout(function() {
                if (element.parentNode) {
                    element.parentNode.removeChild(element);
                }
            }, duration * 1000);
        }

        // é¡µé¢å¯è§æ€§å˜åŒ–æ—¶æš‚åœ/æ¢å¤
        document.addEventListener('visibilitychange', function() {
            if (document.hidden && isAnimating) {
                // é¡µé¢éšè—æ—¶æš‚åœ
                if (animationTimer) {
                    clearInterval(animationTimer);
                    animationTimer = null;
                }
            } else if (!document.hidden && isAnimating) {
                // é¡µé¢æ˜¾ç¤ºæ—¶æ¢å¤
                animationTimer = setInterval(createAnimationItem, 300);
            }
        });
    </script>
</body>
</html>
